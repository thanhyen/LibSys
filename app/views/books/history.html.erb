<div style="margin: 0 auto;  " %>

 <h2>Checkout history of Book :<%= @book.ISBN %> </h2>
 	

 <div><%= image_tag @book.image_url.to_s, :style => 'width: 75%;
    margin-bottom: 20px;'  unless @book.image_url.blank? %></div>
<!--  -->
<div  class="row">
	<div class="col-sm-6">
		<div id="example_length" style="display:inline" class="col-md-8">
			<label >Show number entries</label>
			<select id="example_length" aria-controls="his_tbl" class="form-control input-md ">
				<option value="10">10</option>
				<option value="25">25</option>
				<option value="50">50</option>
				<option value="100">100</option>
			</select>
			
		</div>
	</div>
	
	<div class="col-sm-6 right">
		<div class="dataTables_paginate paging_simple_numbers" id="example_paginate">
			<ul class="pagination" style="float: right;">
				<li class="paginate_button previous" id="example_previous">
					<a href="#" aria-controls="his_tbl" data-dt-idx="0" tabindex="0">Previous</a>
				</li>
				<li class="paginate_button active">
					<a href="#" aria-controls="his_tbl" data-dt-idx="1" tabindex="0">1</a>
				</li>
				<li class="paginate_button ">
					<a href="#" aria-controls="his_tbl" data-dt-idx="2" tabindex="0">2</a>
				</li>
				<li class="paginate_button ">
					<a href="#" aria-controls="his_tbl" data-dt-idx="3" tabindex="0">3</a></li>
				<li class="paginate_button ">
					<a href="#" aria-controls="his_tbl" data-dt-idx="4" tabindex="0">4</a></li>
				<li class="paginate_button ">
					<a href="#" aria-controls="his_tbl" data-dt-idx="5" tabindex="0">5</a>
				</li>
				<li class="paginate_button ">
					<a href="#" aria-controls="his_tbl" data-dt-idx="6" tabindex="0">6</a></li>
				<li class="paginate_button next" id="example_next">
					<a href="#" aria-controls="his_tbl" data-dt-idx="7" tabindex="0">Next</a>
				</li>
			</ul>
		</div>
	</div>
</div>
    <!--  -->
<div class="row">
 	<form id="his_tbl">
	 	<div class="form-group">
		    <div class="col-md-12">
		        <div class="table-responsive">
		            <table class="table table-striped table-bordered table-advance table-hover">
		                <thead>
		                    <tr>
		                        <th class="col-md-2 text-center">STT</th>
		                        <th class="col-md-2 text-center">Username</th>
		                        <th class="col-md-2 text-center">Email</th>
		                        <th class="col-md-2 text-center">Role</th>
		                        <th class="col-md-2 text-center">Checkout date</th>
		                        <th class="col-md-2 text-center">Return date</th>
		                        
		                    </tr>
		                </thead>

		                <tbody>
					 		<% if @history.empty?  %>
					 		<p>No found any histories for this book! </p>
					 		<% else %>
					 		 <% length = @history.length %>
					 		  <% for i in 1...length %>
			                	<tr>
			                		<td><%= i %></td>
			                		<td><%=  @history[i].user.username %></td>
			                		<td><%=  @history[i].user.email%></td>
			                		<td><%=  @history[i].user.role%></td>
			                		<td><%=  @history[i].checkout_date.strftime("%Y-%m-%d %H:%M:%S")  unless @history[i].checkout_date.blank? %></td>
			                		<td><%=  @history[i].return_date.strftime("%Y-%m-%d %H:%M:%S") unless @history[i].return_date.blank? %></td>
			                	</tr>
					 			<% end %>
								
						    <% end %>
		    			</tbody>
		   		 </table>
		    	</div>
	   		</div>
	    </div>
 		<button class="right submit" style=""><%= link_to 'Back', '/books', :style => "color: #fff; font-weight: bold"%></button>
 	</form>
</div>
</div>
<script type="text/javascript">
	$(document).ready(function() {
		function display_entries(){
			var num = $('#example_length option:selected').val();
			// alert( num);
			return num;
		// }
		
   	 $('#his_tbl').DataTable();
	} );
</script>
